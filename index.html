<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TSM STAGE MASTER - STEALTH EDITION</title>
    <style>
        body { background: #000520; color: #fff; font-family: 'Arial Black', sans-serif; margin: 0; overflow: hidden; height: 100vh; display: flex; justify-content: center; align-items: center; cursor: none; }
        .screen { width: 95%; max-width: 1400px; text-align: center; display: none; }
        .active { display: block !important; }

        /* Typography */
        .gold { color: #f1c40f; }
        .blue { color: #3498db; }
        
        /* Genre Grid */
        .genre-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 25px; margin-top: 50px; }
        .genre-box { 
            background: linear-gradient(145deg, #001f3f, #00152e); 
            border: 2px solid #3498db; 
            padding: 40px 10px; 
            border-radius: 15px; 
            font-size: 26px; 
            cursor: pointer; 
            transition: all 0.3s; 
        }
        .genre-box:hover { background: #f1c40f; color: #000; border-color: #fff; transform: translateY(-5px); }

        /* Game UI */
        #timer { font-size: 150px; border: 15px solid #f1c40f; display: inline-block; padding: 10px 60px; border-radius: 100px; font-family: 'Courier New', monospace; min-width: 550px; margin-bottom: 20px; background: #000; }
        #question { font-size: 44px; background: rgba(0,0,0,0.8); padding: 40px; border-left: 15px solid #f1c40f; text-align: left; margin-bottom: 30px; min-height: 120px; line-height: 1.3; }
        
        .opt-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .opt { background: #001f3f; border: 5px solid #3498db; padding: 35px; font-size: 34px; text-align: left; border-radius: 15px; color: #bdc3c7; }
        .selected { border-color: #f1c40f; background: #004080; color: #fff; transform: scale(1.02); }
        .correct { background: #27ae60 !important; border-color: #fff !important; color: #fff !important; animation: blink 0.5s infinite alternate; }
        
        @keyframes blink { from { opacity: 1; } to { opacity: 0.6; } }

        /* Scorecard */
        #score-card { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 10, 40, 0.98); border: 4px solid #f1c40f; padding: 50px; border-radius: 30px; z-index: 3000; display: none; width: 65%; box-shadow: 0 0 100px #000; }
        table { width: 100%; font-size: 40px; border-collapse: collapse; margin-top: 30px; }
        th { color: #f1c40f; border-bottom: 5px solid #f1c40f; padding: 20px; }
        td { padding: 20px; border-bottom: 2px solid #3498db; text-align: center; }

        /* Status Bar */
        #host-status { position: fixed; bottom: 15px; right: 15px; font-size: 18px; color: #666; font-family: monospace; text-transform: uppercase; }
    </style>
</head>
<body>

<div id="title-screen" class="screen active">
    <h1 style="font-size: 120px;" class="gold">TSM TRIVIA</h1>
    <h2 style="font-size: 50px; letter-spacing: 15px;" class="blue">2026</h2>
</div>

<div id="genre-screen" class="screen">
    <h1 class="gold" style="font-size: 70px;">SELECT CATEGORY</h1>
    <div class="genre-grid">
        <div class="genre-box" id="g0">CRICKET</div>
        <div class="genre-box" id="g1">MOVIES</div>
        <div class="genre-box" id="g2">FOOTBALL</div>
        <div class="genre-box" id="g3">SONGS</div>
        <div class="genre-box" id="g4">KABADDI</div>
        <div class="genre-box" id="g5">NEWS</div>
        <div class="genre-box" id="g6">TECH</div>
        <div class="genre-box" id="g7">BOOKS</div>
        <div class="genre-box" id="g8">AI</div>
        <div class="genre-box" id="g9">SCIENCE</div>
    </div>
</div>

<div id="game-screen" class="screen">
    <div id="timer" class="gold">15.000</div>
    <div id="question"></div>
    <div class="opt-grid" id="options-grid"></div>
</div>

<div id="score-card">
    <h1 class="blue" style="margin:0;">LEADERBOARD</h1>
    <table id="card-table">
        <thead><tr><th>RANK</th><th>TEAM</th><th>SCORE</th></tr></thead>
        <tbody id="card-body"></tbody>
    </table>
</div>

<div id="host-status">TEAM: <span id="st-team">-</span></div>

<script>
   /* 100 HARD QUESTIONS DATA */
    const db = {
        "CRICKET": [
            { q: "Who was the first Indian to score a century in T20 Internationals?", a: ["Rohit Sharma", "Virat Kohli", "Suresh Raina", "KL Rahul"], c: 2 },
            { q: "Which bowler has the best economy rate in IPL history (min 250 balls)?", a: ["Rashid Khan", "Anil Kumble", "Sunil Narine", "Dale Steyn"], c: 0 },
            { q: "Which team has lost the most IPL finals?", a: ["RCB", "CSK", "Mumbai Indians", "Punjab Kings"], c: 1 },
            { q: "Who is the only player to take a hat-trick in the T20 World Cup twice?", a: ["Brett Lee", "Curtis Campher", "Kagiso Rabada", "Wanindu Hasaranga"], c: 1 },
            { q: "What is the highest individual score in a Test match innings by an Indian?", a: ["309", "319", "293", "281"], c: 1 },
            { q: "Which venue hosted the first-ever pink-ball Test match in India?", a: ["Eden Gardens", "Motera", "Chepauk", "Wankhede"], c: 0 },
            { q: "Who was the Man of the Series in the 2011 ODI World Cup?", a: ["MS Dhoni", "Gautam Gambhir", "Yuvraj Singh", "Sachin Tendulkar"], c: 2 },
            { q: "Which cricketer's autobiography is titled 'Playing It My Way'?", a: ["Rahul Dravid", "Sachin Tendulkar", "VVS Laxman", "Sourav Ganguly"], c: 1 },
            { q: "Against which team did Rohit Sharma score his 264?", a: ["Australia", "South Africa", "Sri Lanka", "West Indies"], c: 2 },
            { q: "Who holds the record for the fastest Test century (54 balls)?", a: ["Viv Richards", "Brendon McCullum", "Misbah-ul-Haq", "Adam Gilchrist"], c: 1 }
        ],
        "MOVIES": [
            { q: "In 'Baashha', what is the name of the antagonist played by Raghuvaran?", a: ["Antony", "Mark Antony", "Periya Bhai", "Sultan"], c: 1 },
            { q: "Which was the first Tamil film to be shot entirely in digital format?", a: ["Mumbai Express", "Sivaji", "Vishwaroopam", "Saroja"], c: 0 },
            { q: "What is the name of the village in 'Subramaniapuram'?", a: ["Karisal Kulam", "Subramaniapuram", "Usilampatti", "Seevalaperi"], c: 1 },
            { q: "In 'Vikram' (1986), what is the name of the missile Vikram tries to retrieve?", a: ["Agni", "Prithvi", "Brahmos", "Agni-putra"], c: 3 },
            { q: "Who wrote the dialogues for the movie 'Iruvar'?", a: ["Sujatha", "Mani Ratnam", "Vairamuthu", "Balakumaran"], c: 0 },
            { q: "Which film features the fictional language 'Kiliki'?", a: ["Baahubali", "KGF", "Eega", "Ponniyin Selvan"], c: 0 },
            { q: "In 'Anniyan', what is the punishment for the train food supplier?", a: ["Kumbhipakam", "Andha Koopam", "Krimi Bhojanam", "Rauravam"], c: 2 },
            { q: "Who was the cinematographer for 'Nayakan'?", a: ["P.C. Sreeram", "Santosh Sivan", "Rajiv Menon", "Balu Mahendra"], c: 0 },
            { q: "Which Tamil actor holds the Guinness Record for most screen credits?", a: ["Manorama", "Nagesh", "Kamal Haasan", "M.R. Radha"], c: 0 },
            { q: "What is the specific car model driven by Karthi in 'Paiyaa'?", a: ["Swift", "Lancer", "Accord", "Benz"], c: 1 }
        ],
        "FOOTBALL": [
            { q: "Which player scored the 'Hand of God' goal?", a: ["Pele", "Maradona", "Messi", "Zidane"], c: 1 },
            { q: "Which country has appeared in the World Cup finals 3 times but never won?", a: ["Netherlands", "Croatia", "Portugal", "Belgium"], c: 0 },
            { q: "Who is the all-time top scorer in the history of the FIFA World Cup?", a: ["Ronaldo (R9)", "Miroslav Klose", "Gerd Muller", "Pele"], c: 1 },
            { q: "Which club is known as 'The Old Lady'?", a: ["Juventus", "Real Madrid", "Hertha Berlin", "Benfica"], c: 0 },
            { q: "Who was the first goalkeeper to win the Ballon d'Or?", a: ["Oliver Kahn", "Lev Yashin", "Manuel Neuer", "Buffon"], c: 1 },
            { q: "Which is the only team to have played in every World Cup tournament?", a: ["Germany", "Argentina", "Brazil", "Italy"], c: 2 },
            { q: "What is the minimum number of players a team needs to start a match?", a: ["7", "8", "9", "11"], c: 0 },
            { q: "Who scored the winning goal for Spain in the 2010 World Cup Final?", a: ["Xavi", "Torres", "Iniesta", "Villa"], c: 2 },
            { q: "Which stadium is known as 'The Theatre of Dreams'?", a: ["Anfield", "Wembley", "Old Trafford", "Camp Nou"], c: 2 },
            { q: "Who managed Leicester City to their miracle Premier League title?", a: ["Claudio Ranieri", "Nigel Pearson", "Brendan Rodgers", "Claude Puel"], c: 0 }
        ],
        "SONGS": [
            { q: "In 'Sivaji', which raga is the song 'Sahana' based on?", a: ["Sahana", "Kalyani", "Dwijavanthi", "Sankarabharanam"], c: 2 },
            { q: "Who sang the male vocals for 'Vaseegara' in Minnale?", a: ["Harish Raghavendra", "Unni Menon", "Srinivas", "Karthik"], c: 0 },
            { q: "Which song was the first ever Tamil song to reach 1 Billion views on YouTube?", a: ["Rowdy Baby", "Why This Kolaveri", "Vaathi Coming", "Arabic Kuthu"], c: 0 },
            { q: "For which movie did Yuvan Shankar Raja perform a live orchestra recording in Cyprus?", a: ["Raam", "Pudhupettai", "7G Rainbow Colony", "Ahi Ahi"], c: 0 },
            { q: "Who wrote the lyrics for 'Senthamizh Nadenum Pothinile'?", a: ["Bharathidasan", "Bharathiyar", "Kannadasan", "Vaali"], c: 1 },
            { q: "Which A.R. Rahman soundtrack was listed in TIME magazine's '10 Best Soundtracks'?", a: ["Bombay", "Roja", "Dil Se", "Slumdog Millionaire"], c: 1 },
            { q: "The song 'Urvasi Urvasi' was inspired by which American hit?", a: ["Beat It", "My Humps", "It's Like That", "None"], c: 3 },
            { q: "Who composed the music for the movie '96'?", a: ["Govind Vasantha", "Santhosh Narayanan", "Pradeep Kumar", "Sean Roldan"], c: 0 },
            { q: "Which lyricist uses the pen name 'Dravida Iyakkam' in some credits?", a: ["Pa. Ranjith", "Arivu", "Yugabharathi", "Snehan"], c: 2 },
            { q: "In 'Thiruda Thiruda', the song 'Veerapandi Kotaiyile' features only which instruments?", a: ["Drums", "Vocals & Percussion", "Violin", "Guitar"], c: 1 }
        ],
        "KABADDI": [
            { q: "What is the exact dimension of a standard Men's Kabaddi court?", a: ["13m x 10m", "12m x 10m", "13m x 11m", "11m x 9m"], c: 0 },
            { q: "Who was the first player to cross 1000 raid points in PKL history?", a: ["Pawan Sehrawat", "Rahul Chaudhari", "Pardeep Narwal", "Deepak Hooda"], c: 2 },
            { q: "Which defensive move involves grabbing the raider's ankle?", a: ["Dash", "Block", "Ankle Hold", "Thigh Hold"], c: 2 },
            { q: "How many points is a 'Technical Point' worth?", a: ["1", "2", "0", "Discretionary"], c: 0 },
            { q: "Which Asian Games did India LOSE the Gold medal in Kabaddi for the first time?", a: ["2010", "2014", "2018", "2022"], c: 2 },
            { q: "What is the maximum weight limit for female Kabaddi players?", a: ["70kg", "75kg", "65kg", "60kg"], c: 1 },
            { q: "Which team holds the record for the highest score in a single PKL match?", a: ["Patna Pirates", "Bengaluru Bulls", "Dabang Delhi", "Telugu Titans"], c: 1 },
            { q: "Who is the owner of the Jaipur Pink Panthers?", a: ["Akshay Kumar", "Abhishek Bachchan", "Ronnie Screwvala", "Sachin Tendulkar"], c: 1 },
            { q: "If a raider is caught but touches the midline, how many points does he get?", a: ["0", "1", "Defenders touched + 2", "Defenders touched"], c: 3 },
            { q: "In case of a tie in knockouts, what is the tie-breaker called?", a: ["Super Over", "Golden Raid", "Tie Raid", "Extra Time"], c: 1 }
        ],
        "NEWS": [
            { q: "Which article of the Indian Constitution was abrogated in 2019?", a: ["Article 370", "Article 356", "Article 360", "Article 21"], c: 0 },
            { q: "Who is the current CEO of Twitter (X) appointed by Elon Musk?", a: ["Parag Agrawal", "Linda Yaccarino", "Jack Dorsey", "Sheryl Sandberg"], c: 1 },
            { q: "Which country became the 31st member of NATO?", a: ["Sweden", "Finland", "Ukraine", "Switzerland"], c: 1 },
            { q: "What is the name of the cyclone that hit Chennai in Dec 2023?", a: ["Michaung", "Mandous", "Biparjoy", "Mocha"], c: 0 },
            { q: "Which film won the Best Documentary Short at the 2023 Oscars (Indian)?", a: ["The Elephant Whisperers", "All That Breathes", "RRR", "Period. End of Sentence."], c: 0 },
            { q: "Who is the current Chief Justice of India (as of 2025)?", a: ["D.Y. Chandrachud", "Sanjiv Khanna", "U.U. Lalit", "N.V. Ramana"], c: 1 },
            { q: "Which city is hosting the COP29 climate summit?", a: ["Dubai", "Baku", "Glasgow", "Paris"], c: 1 },
            { q: "What is the name of India's first solar mission?", a: ["Surya-1", "Aditya-L1", "Helios-X", "Sol-India"], c: 1 },
            { q: "Which country launched the 'Digital Silk Road' initiative?", a: ["India", "USA", "China", "Japan"], c: 2 },
            { q: "Who won the 2024 Nobel Peace Prize?", a: ["Narges Mohammadi", "Nihon Hidankyo", "World Food Programme", "Maria Ressa"], c: 1 }
        ],
        "TECH": [
            { q: "What was the original name of Google?", a: ["Googol", "BackRub", "SearchMash", "RankDex"], c: 1 },
            { q: "Which programming language was created by James Gosling?", a: ["C++", "Python", "Java", "Ruby"], c: 2 },
            { q: "What does 'S' stand for in 'HTTPS'?", a: ["System", "Secure", "Standard", "Service"], c: 1 },
            { q: "Which company developed the 'Pegasus' spyware?", a: ["DarkMatter", "BlackCube", "NSO Group", "Gamma Group"], c: 2 },
            { q: "What is the first webcam historically used to monitor?", a: ["A coffee pot", "A fish tank", "A hallway", "A server room"], c: 0 },
            { q: "Who is the founder of the Linux kernel?", a: ["Steve Wozniak", "Linus Torvalds", "Dennis Ritchie", "Ken Thompson"], c: 1 },
            { q: "Which company acquired GitHub in 2018?", a: ["Google", "Facebook", "Microsoft", "Amazon"], c: 2 },
            { q: "What is the maximum supply of Bitcoin that will ever exist?", a: ["21 Million", "18 Million", "25 Million", "Unlimited"], c: 0 },
            { q: "What does 'BIOS' stand for?", a: ["Basic Input Output System", "Binary Input Operating System", "Base Integrated Operating System", "Boot Input Output System"], c: 0 },
            { q: "In database terms, what does 'SQL' stand for?", a: ["Standard Query Link", "Structured Query Language", "Simple Question Language", "System Query Logic"], c: 1 }
        ],
        "BOOKS": [
            { q: "Who wrote the dystopian novel 'Brave New World'?", a: ["George Orwell", "Aldous Huxley", "Ray Bradbury", "H.G. Wells"], c: 1 },
            { q: "What is the real name of the author 'Lewis Carroll'?", a: ["Charles Dickens", "Charles Lutwidge Dodgson", "Eric Arthur Blair", "Samuel Clemens"], c: 1 },
            { q: "Which is the first part of the 'Silappatikaram'?", a: ["Madurai Kandam", "Puhar Kandam", "Vanchi Kandam", "Koodal Kandam"], c: 1 },
            { q: "Who translated 'Thirukkural' into Latin first?", a: ["G.U. Pope", "Constantius Beschi", "Ellis", "Drew"], c: 1 },
            { q: "In 'Harry Potter', what is the core of the Elder Wand?", a: ["Phoenix Feather", "Dragon Heartstring", "Thestral Hair", "Unicorn Hair"], c: 2 },
            { q: "Who wrote 'Satanic Verses'?", a: ["Salman Rushdie", "Arundhati Roy", "V.S. Naipaul", "Vikram Seth"], c: 0 },
            { q: "Which Tamil novel won the first Sahitya Akademi Award?", a: ["Alai Osai", "Agal Vilakku", "Kallukkul Eeram", "Sila Nerangalil Sila Manithargal"], c: 0 },
            { q: "Who wrote 'The God of Small Things'?", a: ["Jhumpa Lahiri", "Kiran Desai", "Arundhati Roy", "Anita Desai"], c: 2 },
            { q: "What is the name of the protagonist in 'Crime and Punishment'?", a: ["Raskolnikov", "Ivan", "Dmitri", "Alyosha"], c: 0 },
            { q: "Which ancient library was known as the 'Storehouse of Knowledge'?", a: ["Library of Alexandria", "Library of Pergamum", "Imperial Library of Constantinople", "House of Wisdom"], c: 0 }
        ],
        "AI": [
            { q: "What is the name of the AI model developed by Anthropic?", a: ["Claude", "Bard", "Llama", "Mistral"], c: 0 },
            { q: "Which test is designed to distinguish computers from humans visually?", a: ["Turing Test", "CAPTCHA", "OCR", "Voight-Kampff"], c: 1 },
            { q: "Who is the Chief Scientist of OpenAI?", a: ["Sam Altman", "Ilya Sutskever", "Andrej Karpathy", "Yann LeCun"], c: 1 },
            { q: "In AI, what does 'GAN' stand for?", a: ["General Artificial Network", "Generative Adversarial Network", "Global Automated Node", "Graphic AI Net"], c: 1 },
            { q: "Which IBM computer defeated Garry Kasparov in Chess?", a: ["Watson", "Deep Blue", "Summit", "Blue Gene"], c: 1 },
            { q: "What is 'Hallucination' in the context of LLMs?", a: ["System Crash", "Confidently stating false info", "Generating images", "Refusing to answer"], c: 1 },
            { q: "Which company released the 'Stable Diffusion' model?", a: ["OpenAI", "Midjourney", "Stability AI", "Adobe"], c: 2 },
            { q: "What is the 'Vanishing Gradient Problem' related to?", a: ["Training Deep Neural Networks", "Image Resolution", "Data Storage", "Battery Life"], c: 0 },
            { q: "Who wrote the paper 'Attention Is All You Need'?", a: ["Google Researchers", "Facebook AI", "OpenAI Team", "DeepMind"], c: 0 },
            { q: "Which AI is used to fold proteins?", a: ["AlphaGo", "AlphaFold", "GPT-3", "DALL-E"], c: 1 }
        ],
        "SCIENCE": [
            { q: "What is the rarest blood type in humans?", a: ["AB Negative", "O Negative", "Rh Null", "B Negative"], c: 2 },
            { q: "Which planet has the most moons (as of 2024)?", a: ["Jupiter", "Saturn", "Uranus", "Neptune"], c: 1 },
            { q: "What is the value of 'Absolute Zero'?", a: ["0째C", "-273.15째C", "-100째C", "-459째F"], c: 1 },
            { q: "Who is known as the 'Father of Modern Chemistry'?", a: ["Mendeleev", "Lavoisier", "Dalton", "Bohr"], c: 1 },
            { q: "Which element has the highest melting point?", a: ["Tungsten", "Carbon", "Titanium", "Platinum"], c: 0 },
            { q: "What is the name of the first cloned mammal?", a: ["Polly", "Dolly", "Molly", "Holly"], c: 1 },
            { q: "What particle is known as the 'God Particle'?", a: ["Higgs Boson", "Neutrino", "Quark", "Photon"], c: 0 },
            { q: "Which part of the brain controls balance?", a: ["Cerebrum", "Cerebellum", "Medulla", "Thalamus"], c: 1 },
            { q: "What is the hardest material in the human body?", a: ["Bone", "Tooth Enamel", "Cartilage", "Nail"], c: 1 },
            { q: "Who formulated the 'Uncertainty Principle'?", a: ["Einstein", "Heisenberg", "Schrodinger", "Planck"], c: 1 }
        ]
    };
    /* LOGIC */
    let globalScores = {}; // Stores all scores { 'A': 100, 'B': 50 }
    let currentGenre = "";
    let qIdx = 0;
    let timerRunning = false;
    let startTime;
    let remainingTime = 15;
    let assignedTeam = null; 
    let selectedOpt = null;
    let isRevealed = false;

    // --- DOM ---
    const timerEl = document.getElementById('timer');
    const qEl = document.getElementById('question');
    const gridEl = document.getElementById('options-grid');
    const statusTeam = document.getElementById('st-team');
    
    // --- Genre Selection ---
    Object.keys(db).forEach((key, idx) => {
        const btn = document.getElementById(`g${idx}`);
        if(btn) btn.onclick = () => startGame(key);
    });

    function startGame(genre) {
        currentGenre = genre;
        qIdx = 0;
        document.getElementById('genre-screen').classList.remove('active');
        document.getElementById('game-screen').classList.add('active');
        loadQuestion();
    }

    // --- Game Flow ---
    function loadQuestion() {
        isRevealed = false; selectedOpt = null; remainingTime = 15; assignedTeam = null; timerRunning = false;
        
        statusTeam.innerText = "-";
        timerEl.innerText = "15.000";
        timerEl.style.color = "#f1c40f"; 
        
        const qData = db[currentGenre][qIdx];
        qEl.innerText = `${qIdx + 1}. ${qData.q}`;
        
        gridEl.innerHTML = "";
        qData.a.forEach((opt, i) => {
            const div = document.createElement('div');
            div.className = 'opt';
            div.id = `opt-${i}`;
            div.innerText = `${i+1}. ${opt}`;
            gridEl.appendChild(div);
        });

        startTimer();
    }

    function startTimer() { startTime = Date.now(); timerRunning = true; requestAnimationFrame(updateTimer); }

    function updateTimer() {
        if (!timerRunning) return;
        const elapsed = (Date.now() - startTime) / 1000;
        remainingTime = Math.max(0, 15 - elapsed);
        timerEl.innerText = remainingTime.toFixed(3);
        if (remainingTime <= 0) { timerRunning = false; reveal(); }
        else requestAnimationFrame(updateTimer);
    }

    function reveal() {
        if (isRevealed) return;
        isRevealed = true; timerRunning = false;
        const correctIdx = db[currentGenre][qIdx].c;
        document.getElementById(`opt-${correctIdx}`).classList.add('correct');
        
        if (selectedOpt === correctIdx && assignedTeam) {
            const points = (remainingTime / 15) * 100;
            if(!globalScores[assignedTeam]) globalScores[assignedTeam] = 0;
            globalScores[assignedTeam] += points;
        }
    }

    function toggleScoreCard() {
        const card = document.getElementById('score-card');
        if (card.style.display === 'block') card.style.display = 'none';
        else {
            card.style.display = 'block';
            const body = document.getElementById('card-body');
            body.innerHTML = "";
            const teams = Object.keys(globalScores);
            if(teams.length === 0) {
                body.innerHTML = "<tr><td colspan='3'>NO SCORES YET</td></tr>";
                return;
            }
            teams.sort((a,b) => globalScores[b] - globalScores[a]);
            teams.forEach((t, i) => {
                body.innerHTML += `<tr><td class="gold">${i+1}</td><td class="blue">TEAM ${t}</td><td>${globalScores[t].toFixed(2)}</td></tr>`;
            });
        }
    }

    function finishGenre() {
        document.getElementById('game-screen').classList.remove('active');
        document.getElementById('genre-screen').classList.add('active');
    }

    /* KEYBOARD CONTROLS */
    window.addEventListener('keydown', (e) => {
        const key = e.key.toUpperCase();

        // Global X for Scoreboard
        if (key === 'X') { toggleScoreCard(); return; }
        
        // F to Finish Genre
        if (key === 'F' && document.getElementById('game-screen').classList.contains('active')) { finishGenre(); return; }

        // Title Screen
        if (document.getElementById('title-screen').classList.contains('active')) {
            if (e.code === 'Enter') { document.getElementById('title-screen').classList.remove('active'); document.getElementById('genre-screen').classList.add('active'); }
            return;
        }

        // Genre Screen (0-9)
        if (document.getElementById('genre-screen').classList.contains('active')) {
            if (key >= '0' && key <= '9') {
                let idx = key === '0' ? 9 : parseInt(key) - 1;
                startGame(Object.keys(db)[idx]);
            }
            return;
        }

        // Game Screen
        if (document.getElementById('game-screen').classList.contains('active')) {
            // Space: Pause
            if (e.code === 'Space') {
                e.preventDefault();
                timerRunning = !timerRunning;
                if (timerRunning) { startTime = Date.now() - (15 - remainingTime) * 1000; timerEl.style.color = "#f1c40f"; requestAnimationFrame(updateTimer); }
                else timerEl.style.color = "#e74c3c";
            }
            // Assign Team (A-Z)
            if (e.keyCode >= 65 && e.keyCode <= 90) {
                assignedTeam = key; 
                statusTeam.innerText = key; 
            }
            // 1-4 Select
            if (['1','2','3','4'].includes(key) && !isRevealed) {
                selectedOpt = parseInt(key) - 1;
                document.querySelectorAll('.opt').forEach(o => o.classList.remove('selected'));
                document.getElementById(`opt-${selectedOpt}`).classList.add('selected');
            }
            // Enter Reveal/Next
            if (e.code === 'Enter') {
                if (!isRevealed) reveal();
                else { qIdx++; if (qIdx < 10) loadQuestion(); else finishGenre(); }
            }
        }
    });
</script>
</body>

</html>
